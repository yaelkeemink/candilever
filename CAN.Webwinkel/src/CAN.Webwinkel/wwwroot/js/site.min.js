"use strict";function addArtikelToCart(n){var t=getShopCartFromLocalStorage(),i=n.Artikelnummer;addToShopCartArtikel(n,t);saveShopCartInLocalStorage(t);addToShopCardAnimation(i)}function addToShopCartArtikel(n,t){var r=adjustAantalArtikelenInCart(n,t),i;r||(i=createNewArtikel(n),t.push(i))}function getShopCartFromLocalStorage(){var n=JSON.parse(localStorage.getItem("Shopcart"));return(n===undefined||n===null)&&(n=[]),n}function saveShopCartInLocalStorage(n){var t=JSON.stringify(n);localStorage.setItem("Shopcart",t)}function adjustAantalArtikelenInCart(n,t){var r=!1,i,u;if(t!==undefined&&t!==null)for(i=0,u=t.length;i<u;i++)t[i].artikelnummer===n.Artikelnummer&&(t[i].aantal=t[i].aantal+1,r=!0);return r}function addToShopCardAnimation(n){var t=parseInt(n);document.getElementById(t).className="glyphicon glyphicon-ok btn btn-success";window.setTimeout(function(){restoreButton(t)},1e3)}function restoreButton(n){document.getElementById(n).className="glyphicon glyphicon-shopping-cart btn btn-info"}function placeOrder(){var n=JSON.parse(localStorage.getItem("Shopcart").toLowerCase()),r=createKlant(),t,i;postKlantData(r);t=parseInt(localStorage.getItem("klantnummer"));i=createBestelling(n,t);n!==undefined&&postBestelling(i)}function createBestelling(n,t){return{bestellingnummer:0,klantnummer:t,artikelen:n,bestelDatum:undefined}}function createNewArtikel(n){return{artikelnummer:n.Artikelnummer,naam:n.Naam,prijs:n.Prijs,aantal:1}}function createKlant(){var n=document.getElementById("land"),t=n.options[n.selectedIndex].value;return{klantnummer:0,voornaam:document.getElementById("voornaam").value,achternaam:document.getElementById("achternaam").value,tussenvoegsels:document.getElementById("tussenvoegsel").value,postcode:document.getElementById("postcode").value,telefoonnummer:document.getElementById("telefoonnummer").value,email:document.getElementById("email").value,huisnummer:document.getElementById("huisnummer").value,adres:document.getElementById("straatnaam").value,land:t}}function postBestelling(n){$.ajax({type:"POST",contentType:"application/json",url:"/api/Bestelling",data:JSON.stringify(n),async:!1,success:function(){localStorage.setItem("Shopcart",undefined)},error:function(n){console.log(n)}})}function postKlantData(n){$.ajax({type:"POST",contentType:"application/json",url:"/api/Klant",data:JSON.stringify(n),async:!1,success:function(n){localStorage.setItem("klantnummer",n)},error:function(n){console.log(n)}})}